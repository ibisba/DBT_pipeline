<tool id="rp2paths" name="RP2paths" version="1.0">
  <description>Enumerate and seperate the different pathways generated by RetroPath2.0</description>
  <requirements>
    <container type="docker">ibisba/rp2paths:latest</container>
  </requirements>
  <command><![CDATA[
    '$__tool_directory__/wrapRP2paths.py' -rp_results '$rp_results' -out_paths '$out_paths' -out_compounds '$out_compounds' -timeout '$timeout'
  ]]></command>
  <inputs>
    <param name="rp_results" type="data" format="csv" label="RetroPath2.0 Pathways" />
    <param name="timeout" type="integer" value="1800" label="Time Out" />
  </inputs>
  <outputs>
    <data name="out_paths" format="csv" label="RP2Paths Pathways" />
    <data name="out_compounds" format="tsv" label="RP2paths Compounds" />
  </outputs>
	<stdio>
		<regex match="^TIMEOUT" source="both" level="fatal" description="RPpaths reached a timeout, increase the timeout parameter" />
		<exit_code range="2" level="fatal" description="OSerror detected by the python script" />
	</stdio>
  <tests>
    <test>
      <param name="rp_results" value="examples/carotene/rp2-results.csv" />
      <param name="timeout" value="900" />
    </test>
  </tests>
  <help>
   This is the help section. Should really write something usefull here :) 
  </help>
  <citations>
    <citation type="bibtex">
@article{delepine2018retropath2,
  title={RetroPath2. 0: a retrosynthesis workflow for metabolic engineers},
  author={Del{\'e}pine, Baudoin and Duigou, Thomas and Carbonell, Pablo and Faulon, Jean-Loup},
  journal={Metabolic engineering},
  volume={45},
  pages={158--170},
  year={2018},
  publisher={Elsevier}}
    </citation>
  </citations>
</tool>
